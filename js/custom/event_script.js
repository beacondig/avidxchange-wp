!function(a){function h(b){for(var c=b,d=0;d<f.length;d++){var e=f[d];a(".event-wrapper").find("[data-event-cat='"+e+"']").show()}f.length<=0&&a(".event-wrapper").find(".event").show(),a(".noresultsdiv").removeClass("hnores"),a(".event:visible").each(function(){a(this).text().toUpperCase().indexOf(c.toUpperCase())!=-1?(a(this).show(),a(".noresultsdiv").addClass("hnores")):a(this).hide()}),k(),l(),m()}function j(){var a;return a=window.innerWidth<=991?2:3}function k(){a(".clear-events").remove(),a(".event").filter(":visible").each(function(a){j()})}function l(){var c=j();a(".event-newsletter").remove(),a(".event").filter(":visible").each(function(d){var e=d+1;e===c&&a(this).after(b)})}function m(){var d=(a(".event:visible"),a(".event:visible").length),e=Math.ceil(d/c),f="",g=0,h=1;if(a(".event").removeAttr("data-pagination-set"),a(".event-pagination-bar").empty(),d>c){for(a(".event:visible").each(function(b){g++,a(this).attr("data-pagination-set",h),g==c&&(h+=1,g=0)}),a(".event-wrapper").find("[data-pagination-set='1']").show(),a(".event-wrapper > .event").not("[data-pagination-set='1']").hide(),f+='<ul class="pagination">',i=1;i<=e;i++)1==i?onecl=" active-pag":onecl="",f+='<li><a><span class="event-pag'+onecl+'" data-pagination-num="'+i+'">'+i+"</span></a></li>";f+="</ul>",a(".event-pagination-bar").html(f)}}var b=a(".event-newsletter").detach(),c=12;m(),k(),l();var f=[];a(".event-cat-menu a").on("click",function(b){b.preventDefault(),"most-recent"!=a(this).attr("data-event-category")&&a(".noresultsdiv").removeClass("hnores"),a("#event-search-input").val(""),a(this).toggleClass("e-cat-active");var c=a(this).attr("data-event-category");f.indexOf(c)==-1?f.push(c):f.splice(f.indexOf(c),1),a(".event-wrapper").find(".event").hide(),a(".event").removeClass("oneexists");for(var d=0;d<f.length;d++){var e=f[d];a(".event-wrapper").find("[data-event-cat='"+e+"']").show(),a(".event-wrapper").find("[data-event-cat='"+e+"']").addClass("oneexists"),a(".oneexists").length>0&&a(".noresultsdiv").addClass("hnores")}f.length<=0&&(a(".noresultsdiv").addClass("hnores"),a(".event-wrapper").find(".event").show()),f.indexOf("most-recent")!=-1?(1===f.length&&a(".event-wrapper").find(".event").show(),a(".event").sort(function(b,c){return a(b).attr("data-event-date")<a(c).attr("data-event-date")}).each(function(){a(".event-wrapper").prepend(this)})):a(".event").sort(function(b,c){return a(b).attr("data-event-id")<a(c).attr("data-event-id")}).each(function(){a(".event-wrapper").prepend(this)}),k(),l(),m()}),a("#event-search").on("submit",function(b){b.preventDefault();for(var c=a(this).find("input").val(),d=0;d<f.length;d++){var e=f[d];a(".event-wrapper").find("[data-event-cat='"+e+"']").show()}f.length<=0&&a(".event-wrapper").find(".event").show(),a(".noresultsdiv").removeClass("hnores"),a(".event:visible").each(function(){a(this).text().toUpperCase().indexOf(c.toUpperCase())!=-1?(a(this).show(),a(".noresultsdiv").addClass("hnores")):a(this).hide()}),k(),l(),m()});var g=null;a("#event-search").keyup(function(a){clearTimeout(g),g=setTimeout(h.bind(void 0,a.target.value),300)}),a(".event-pagination-bar").on("click",".event-pag",function(){var b=a(this).attr("data-pagination-num");a(".event-wrapper").find("[data-pagination-set='"+b+"']").show(),a(".event-wrapper > .event").not("[data-pagination-set='"+b+"']").hide(),l(),a(".event-pag").removeClass("active-pag"),a(this).addClass("active-pag"),a(window).scrollTop(0)})}(jQuery);